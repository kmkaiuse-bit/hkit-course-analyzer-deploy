# =============================================================================
# HKIT Course Analyzer - Environment Configuration Template
# =============================================================================
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to .env
# 2. Fill in your actual API keys and configuration
# 3. Never commit .env to version control (it's in .gitignore)
#
# ENVIRONMENT SEPARATION:
# - Production: Uses Gemini API (stable, deployed to Vercel)
# - Testing: Uses OpenRouter API (experimental, local development only)
#
# =============================================================================

# =============================================================================
# PRODUCTION ENVIRONMENT (Gemini API)
# =============================================================================

# -----------------------------------------------------------------------------
# Gemini API Configuration (PRODUCTION)
# -----------------------------------------------------------------------------
# Get your API key from: https://makersuite.google.com/app/apikey
# This is used in production (Vercel deployment)
GEMINI_API_KEY=your_gemini_api_key_here

# Gemini Model Configuration
GEMINI_MODEL=gemini-1.5-flash
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_TOKENS=8192
GEMINI_TIMEOUT=60000

# API Mode: 'backend' or 'frontend'
# - backend: API key stored on server (recommended for production)
# - frontend: Users provide their own API key (for local development)
API_MODE=backend

# Environment
NODE_ENV=production

# =============================================================================
# TESTING ENVIRONMENT (OpenRouter API)
# =============================================================================

# -----------------------------------------------------------------------------
# OpenRouter API Configuration (TESTING ONLY)
# -----------------------------------------------------------------------------
# Get your API key from: https://openrouter.ai/keys
# This is ONLY used for local testing/development
# Comment out or leave empty in production
OPENROUTER_API_KEY=your_openrouter_api_key_here

# API Provider Selection (for testing)
# - gemini: Use Gemini API (production)
# - openrouter: Use OpenRouter API (testing)
API_PROVIDER=gemini

# =============================================================================
# DATABASE CONFIGURATION (Local Learning System)
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL Database (Optional - for learning features)
# -----------------------------------------------------------------------------
DB_TYPE=postgresql
DB_HOST=localhost
DB_PORT=5432
DB_NAME=hkit_learning_db
DB_USER=hkit_admin
DB_PASSWORD=your_database_password_here

# Connection Pool Settings
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=60000

# =============================================================================
# LEARNING SYSTEM SETTINGS
# =============================================================================

LEARNING_ENABLED=true
LEARNING_MIN_CONFIDENCE=0.5
LEARNING_SAMPLE_SIZE_PENALTY=0.1
LEARNING_AUTO_APPLY_THRESHOLD=0.9
LEARNING_AI_HINT_THRESHOLD=0.5

# Time-Weighted Confidence System
LEARNING_RETENTION_FACTOR=0.99
LEARNING_MIN_DECISION_COUNT=3

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

LEARNING_SERVER_PORT=3001
ENABLE_CORS=true
ENABLE_API_LOGGING=true

# Security Settings
ENABLE_REQUEST_VALIDATION=true
MAX_REQUEST_SIZE=50mb
ALLOWED_ORIGINS=http://localhost:8000,http://localhost:3000,http://127.0.0.1:5500

# API Usage Limits (for backend mode)
ENABLE_RATE_LIMITING=true
MAX_REQUESTS_PER_USER_PER_DAY=100
MAX_REQUESTS_PER_MINUTE=10

# API Key Validation
REQUIRE_API_KEY_VALIDATION=true
API_KEY_MIN_LENGTH=30

# =============================================================================
# FEATURE FLAGS
# =============================================================================

ENABLE_GEMINI_PROXY=true
ENABLE_USAGE_TRACKING=true
ENABLE_DEBUG_MODE=false
ENABLE_AUDIT_LOGGING=true
